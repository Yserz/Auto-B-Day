<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:p="http://primefaces.org/ui"
                template="./layout.xhtml">

    <ui:define name="title">
		Welcome to Auto-B-Day
	</ui:define>
	<ui:define name="content">
		<h:form>
			<p:panel id="changepwpanel" rendered="#{sessionBean.loggedIn}" header="Ã„ndern Ihres Passwortes" style="margin-bottom: 10px;">
				<p:focus context="changepwpanel"/>
				<h:panelGrid columns="4"> 
					
					<h:outputLabel for="oldPW" value="Old password:* " />
					<p:password id="oldPW" 
								value="#{changePasswordBean.oldPW}" 
								label="Old password"
								feedback="false"
								required="true"
								requiredMessage="Ihr altes Passwort ist erforderlich."
								minLength="1"
								maxlength="30"/>
					<h:outputText value="(Max. 30 Zeichen)" />
					<p:message for="oldPW" showSummary="true" />
					
					<h:outputLabel for="newPW" value="New password:* " />
					<p:password id="newPW" 
								value="#{changePasswordBean.newPW}" 
								label="New Password"
								feedback="true"
								required="true"
								requiredMessage="Ein neues Passwort ist erforderlich."
								minLength="1"
								maxlength="30"/>
					<h:outputText value="(Max. 30 Zeichen)" />
					<p:message for="newPW" showSummary="true" />
					
					<h:outputLabel for="newPWWdhl" value="New password repetition:* " />
					<p:password id="newPWWdhl" 
								value="#{changePasswordBean.newPWRep}" 
								label="New Password Wdhl."
								feedback="true"
								required="true"
								requiredMessage="Eine Wiederholung des neuen Passwortes ist erforderlich."
								minLength="1"
								maxlength="30"/>
					<h:outputText value="(Max. 30 Zeichen)" />
					<p:message for="newPWWdhl" showSummary="true" />

				</h:panelGrid>


				<p:commandButton value="Change password" 
								 update="changepwpanel" 
								 icon="ui-icon ui-icon-disk"
								 ajax="false"
								 actionListener="#{changePasswordBean.changePassword}"/>
			</p:panel>
		</h:form>
		
	</ui:define>

</ui:composition>
